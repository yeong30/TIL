# 운영체제

## 운영체제란

프로그램 실행에 필요한 자원들을(시스템 자원들을 포함) 할당하고 프로그램이 올바르게 실행되도록 돕는 특별한 프로그램

### 운영체제도 프로그램이다.

운영체제은 특별한 프로그램으로서 결국 프로그램이다.
프로그램은 실행되기 위해 메모리에 적재되어야 하는데 운영체제는 응용프로그램과 다른곳에 적재된다.
메모리는 크게 사용자영역과 커널영역으로 분리되는데 운영체제는 커널영역에 메모리는 사용자영역에 적재된다

> 응용프로그램 : 사용자가 특정목적을 위해 사용하는 일반적인 프로그램

### 운영체제의 역할은

- 메모리 관리 : 프로그램을 메모리에 적재하고 제거하는 역할
- CPU 관리 : 프로그램이 CPU를 할당받아 사용할 수 있도록 관리
- 입출력장치 관리 : 프로그램들이 입출력장치 할당받아 사용하도록 관리

  가 있으며, 결국 운영체제는 하드웨어와 프로그램 사이 위치하여 연결해주는 연결다리와같은 역할을 수행한다.

## 운영체제와 커널

운영체제의 많은 기능 중 핵심적인 서비스(자원분배, 프로세스 관리)를 담당하는 부분을 **커널** 이라고 한다.

> \*커널에 속하지않는 운영체제의 기능 : 유저인터페이스(UI)

## 이중모드

응용프로그램들은 직접 자원(CPU, 저장장치등)에 접근하여 자원을 할당받을 수 없다.
운영체제는 응용프로그램들이 오직 운영체제를 통해서만 접근하도록하여 자원을 보호한다. _(운영체제 === 문지기)_

결국 응용프로그램이 자원에 접근하려면 운영체제의 코드를 실행함으로서(= 운영체제를 통해서) 자원에 접근할 수 있다.

CPU가 명령어를 실행하는 모드를 크게 사용자모드 , 커널모드로 구분하는데 커널모드에서만 운영체제의 도움을 받을 수 있다. (= 사용자모드에서는 운영체제 서비스를 제공받을 수 없으며 자원 접근이 불가한다)
현재 모드는 플래그레지스터 내 슈퍼바이저 플래그에 저장된다*(1 : 커널모드 / 0: 사용자모드)*

#### 시스템 호출

커널모드로 전환하기 위해서는 시스템 호출을 해야한다. 시스템 호출은 일종의 인터럽트.

**시스템 호출이 처리되는 방식은 하드웨어 인터럽트 처리 방식과 유사하다.**

시스템 호출도 일종의 소프트웨어 인터럽트이다,
사용자영역의 응용 프로그램 실행 중 시스템 호출이 발생하면 커널영역으로 넘어가 운영체제가의 코드가 실행되고(=인터럽트 서비스 루틴 실행) 코드 실행이 완료되면 다시 시스템 호출에서 복귀하여 사용자영역의 응용프로그램으로 돌아온다.

프로그램은 자원에 빈번하게 접근한다 = 운영체제가 자주 필요하다 = 시스템 호출이 자주 일어난다 = 커널모드와 사용자모드 전환이 자주 일어난다

## 운영체제의 핵심 서비스

### 1. 프로세스 관리

수많은 프로세스들이 메모리에 적재되어 동시에 실행되는데 운영체제는 이러한 프로세스를 관리한다.
이때 ‘동시에 실행된다’ === ‘아주 빠르게 번갈아 실행된다’ 이다. 운영체제는 이렇게 동시다발적으로 생성,실행,삭제되는 여러 프로세스들을 일목요연하게 관리 \*프로세스 = 실행중인 프로그램

### 2. 자원 접근 및 할당

운영체제는 주요 하드웨어 자원(CPU, 메모리, 입출력장치)에 접근하여 프로세스에 할당하고 관리한다.

자세하게는,

- CPU 스케줄링을 통해 어떤 프로세스에 CPU를 먼저, 얼마나 실행할지를 관리하고

- 페이징, 스와핑을 통해 메모리에 어떻게 프로세스를 적재할 것인지 혹은 적재하지않고 실행할 것인지, 메모리보다 프로세스가 큰 경우 어떻게 실행할것인지를 결정하고

- 응용프로그램이 입출력장치를 할당받고자 할때, 인터럽트 서비스루틴을 제공하여 입출력장치를 할당한다.

### 3. 파일시스템 관리

운영체제는 보조기억장치에 저장된 정보를 파일과 폴더로 묶어서 저장하고 제공하는 역할을 한다
